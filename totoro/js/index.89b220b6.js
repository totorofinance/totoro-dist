(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["index"],{"25c2":function(a,t,e){"use strict";e.r(t);var o=function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("div",{staticClass:"container flex-column fs"},[a.isPC?a._e():o("div",{staticClass:"flex-sb swap-header-img"},[o("img",{directives:[{name:"show",rawName:"v-show",value:1===a.menuActive,expression:"menuActive === 1"}],staticClass:"img-pool",attrs:{src:e("85b8"),alt:""}}),o("img",{directives:[{name:"show",rawName:"v-show",value:0===a.menuActive,expression:"menuActive === 0"}],attrs:{src:e("66f2"),alt:""}}),o("div",{staticClass:"flex-center time-switch-box"},[a.tabVisible?o("div",{staticClass:"flex-center time-switch"},a._l(a.menu,(function(t,e){return o("div",{key:e,staticClass:"btn flex-column  item",class:{active:a.menuActive===t.value},on:{click:function(t){return a.onMenuClick(e)}}},[o("span",{staticClass:"label"},[a._v(a._s(a.$t("swap."+t.label)))]),o("span",{staticClass:"underscore"})])})),0):a._e()])]),o("div",{staticClass:"main"},[o("keep-alive",[o("router-view",{attrs:{pairsLoading:a.pairsLoading,paramsPairId:a.paramsPairId},on:{refresh:a.onRefresh}})],1)],1)])},i=[],n=e("448a"),r=e.n(n),s=e("c973"),c=e.n(s),d=e("9523"),b=e.n(d),l=e("a34a"),m=e.n(l),f=e("d918"),p=e("b3e2"),u=e("2f62");function v(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),e.push.apply(e,o)}return e}function h(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?v(Object(e),!0).forEach((function(t){b()(a,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):v(Object(e)).forEach((function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))}))}return a}var g={name:"Totoro",data:function(){return{pairs:[],menu:[{value:0,label:"swap"},{value:1,label:"pools"}],menuActive:1,dataList:[],statusObj:{},getOneSymbolTimer:null,timer:null,coins:[],noticeVisible:!0,pairsLoading:!1,pairsLoadingTimer:null,tabVisible:!0,paramsPairId:0}},components:{Footer:p["a"]},props:{},watch:{"$route.name":{handler:function(a){this.menuActive="swap"===a?0:1},deep:!0}},computed:h({},Object(u["e"])(["isPC"])),activated:function(){this.onRefresh()},mounted:function(){this.menuActive="swap"===this.$route.name?0:1;var a=this.$route.query,t=a.pairId,e=a.tab;t&&e&&(this.paramsPairId=Number(t),this.onMenuClick(Number(e),{pairId:Number(t)}));var o=this.$store.state.pairs||[];o&&o.length>0&&(this.pairs=o,this.filterCoins(o))},beforeDestroy:function(){this.timer&&clearTimeout(this.timer)},methods:h(h({},Object(u["b"])(["setPairs","setCoins"])),{},{onMenuClick:function(a){var t=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=0===a?"swap":"pool";this.$route.name!==o&&this.$router.push({name:o,query:e}).then((function(){t.menuActive="swap"===t.$route.name?0:1}))},getPairs:function(){var a=this;return c()(m.a.mark((function t(){var e,o,i,n,r,s,c;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.pairsLoading=!0,e={code:"swap.ttr",scope:"swap.ttr",table:"pairs",limit:1e3,json:!0},t.next=4,f["a"].getTableRows(e);case 4:return o=t.sent,i={code:"mine.ttr",scope:"mine.ttr",table:"pools",limit:300,json:!0},t.next=8,f["a"].getTableRows(i);case 8:return n=t.sent,r={code:"pools.ttr",scope:"pools.ttr",table:"pools",limit:300,json:!0},t.next=12,f["a"].getTableRows(r);case 12:s=t.sent,c=[],o.forEach((function(a){var t={mineWeight:0,poolWeight:0},e=n.find((function(t){return t.pair_id==a.id}));e&&(t.mineWeight=parseFloat(parseFloat(e.weight).toFixed(2)),t.mineInfo=n);var o=s.find((function(t){return t.pair_id==a.id}));o&&(t.poolWeight=parseFloat(parseFloat(o.weight).toFixed(2)),t.poolInfo=o),t.pairId=a.id,t.totalLiquidity=a.total_liquidity;var i=a.token0.sym.split(",")[1],r=parseInt(a.token0.sym.split(",")[0]),d=a.token1.sym.split(",")[1],b=parseInt(a.token1.sym.split(",")[0]);t.token0={coin:i,precision:r,contract:a.token0.contract,reserve:a.reserve0,tokenId:"".concat(a.token0.contract,"-").concat(i),eosAmount:"EOS"===i?parseFloat(a.reserve0):0},t.token1={coin:d,precision:b,contract:a.token1.contract,reserve:a.reserve1,tokenId:"".concat(a.token1.contract,"-").concat(d),eosAmount:"EOS"===d?parseFloat(a.reserve1):0},c.push(t)})),a.pairs=c,a.setPairs(c),a.filterCoins(c),a.pairsLoading=!1;case 19:case"end":return t.stop()}}),t)})))()},filterCoins:function(a){if(a.length>0){var t=a.map((function(a){return a.token0})),e=a.map((function(a){return a.token1}));t.push.apply(t,r()(e));var o=[];t.forEach((function(a){var t=o.findIndex((function(t){return t.tokenId===a.tokenId}));-1===t&&o.push(a)})),o.sort((function(a,t){return parseFloat(t.eosAmount)-parseFloat(a.eosAmount)})),this.coins=o,this.setCoins(o)}},onRefresh:function(a,t){this.pairsLoading=!0,this.pairsLoadingTimer&&clearTimeout(this.pairsLoadingTimer),this.pairsLoadingTimer=setTimeout(this.getPairs,100)},onClickAnnouncement:function(){this.noticeVisible=!1,this.$router.push({path:"/start"})}})},w=g,k=(e("dcd7"),e("2877")),y=Object(k["a"])(w,o,i,!1,null,"77b5f2ab",null);t["default"]=y.exports},2606:function(a,t,e){var o=e("24fb");t=o(!1),t.push([a.i,".color-blue[data-v-77b5f2ab]{color:#1463a2!important}.color-tab[data-v-77b5f2ab]{color:#5d8191!important}.color-gold[data-v-77b5f2ab]{color:#ffc78a!important}.color-text[data-v-77b5f2ab]{color:#8b572a!important}.color-yellow[data-v-77b5f2ab]{color:#f5a623!important}.color-red[data-v-77b5f2ab]{color:#ea573c!important}.color-green[data-v-77b5f2ab]{color:#30a384!important}.color-add[data-v-77b5f2ab]{color:#32af8d!important}.color-000[data-v-77b5f2ab]{color:#000!important}.color-333[data-v-77b5f2ab]{color:#333!important}.color-666[data-v-77b5f2ab]{color:#666!important}.color-999[data-v-77b5f2ab]{color:#999!important}.color-theme[data-v-77b5f2ab]{color:#498846!important}.color-theme-bg[data-v-77b5f2ab]{color:#edf5ed!important}.color-golden[data-v-77b5f2ab]{color:#f7b500!important}.bgcolor-blue[data-v-77b5f2ab]{background-color:#1463a2!important}.bgcolor-yellow[data-v-77b5f2ab]{background-color:#f5a623!important}.bgcolor-red[data-v-77b5f2ab]{background-color:#ea573c!important}.bgcolor-green[data-v-77b5f2ab]{background-color:#1463a2!important}.bgcolor-theme[data-v-77b5f2ab]{background-color:#498846!important}.bgcolor-f3f3f3[data-v-77b5f2ab]{background-color:#f3f3f3!important}.mint-switch-input:checked+.mint-switch-core[data-v-77b5f2ab]{border-color:#f5a623!important;background:#f5a623!important;overflow:hidden}@keyframes van-fade-in-data-v-77b5f2ab{0%{opacity:0}to{opacity:1}}@keyframes van-fade-out-data-v-77b5f2ab{0%{opacity:1}to{opacity:0}}@keyframes van-slide-down-enter-data-v-77b5f2ab{0%{transform:translate3d(0,-100%,0)}}@keyframes van-slide-down-leave-data-v-77b5f2ab{to{transform:translate3d(0,-100%,0)}}@keyframes van-slide-up-enter-data-v-77b5f2ab{0%{transform:translate3d(0,100%,0)}}@keyframes van-slide-up-leave-data-v-77b5f2ab{to{transform:translate3d(0,100%,0)}}.van-slide-up-enter-active[data-v-77b5f2ab]{animation:van-slide-up-enter-data-v-77b5f2ab .3s ease both}.van-slide-up-leave-active[data-v-77b5f2ab]{animation:van-slide-up-leave-data-v-77b5f2ab .3s ease both}.van-slide-down-enter-active[data-v-77b5f2ab]{animation:van-slide-down-enter-data-v-77b5f2ab .3s ease both}.van-slide-down-leave-active[data-v-77b5f2ab]{animation:van-slide-down-leave-data-v-77b5f2ab .3s ease both}.van-fade-enter-active[data-v-77b5f2ab]{animation:van-fade-in-data-v-77b5f2ab .3s}.van-fade-leave-active[data-v-77b5f2ab]{animation:van-fade-out-data-v-77b5f2ab .3s;position:absolute;top:0;left:0;width:100%}[data-v-77b5f2ab]:root{--animate-duration:1s;--animate-delay:1s;--animate-repeat:1}.animate__animated[data-v-77b5f2ab]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-duration:var(--animate-duration);animation-duration:var(--animate-duration);-webkit-animation-fill-mode:both;animation-fill-mode:both}@-webkit-keyframes zoomIn-data-v-77b5f2ab{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes zoomIn-data-v-77b5f2ab{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}.animate__zoomIn[data-v-77b5f2ab]{-webkit-animation-name:zoomIn-data-v-77b5f2ab;animation-name:zoomIn-data-v-77b5f2ab}.container[data-v-77b5f2ab]{width:100%;height:auto;position:relative;justify-content:space-between}.container .tab[data-v-77b5f2ab]{height:1.17333rem;background:#fff;color:#949ba3}.container .tab .btn[data-v-77b5f2ab]{color:#949ba3;font-weight:400;min-width:1.6rem;padding:0 .33333rem;height:1.17333rem;font-size:.42667rem;line-height:1.09333rem;text-align:center}.container .tab .btn span.label[data-v-77b5f2ab]{display:block;width:100%;height:1.09333rem;text-align:center;cursor:pointer}.container .tab .btn span.underscore[data-v-77b5f2ab]{width:1.22667rem;height:.08rem;background:#498846;border-radius:.04rem;opacity:0}.container .tab .btn.active[data-v-77b5f2ab]{color:#5d8191;font-weight:700}.container .tab .btn.active span.underscore[data-v-77b5f2ab]{opacity:1}.container .main[data-v-77b5f2ab]{width:100%}.swap-header-img[data-v-77b5f2ab]{width:8.29333rem;min-height:2.16rem;padding-left:.93333rem;align-items:flex-end}.swap-header-img img[data-v-77b5f2ab]{width:1.73333rem}.swap-header-img img.img-pool[data-v-77b5f2ab]{width:2.74667rem}.swap-header-img .time-switch-box[data-v-77b5f2ab]{height:100%}.swap-header-img .time-switch-box .time-switch[data-v-77b5f2ab]{height:.8rem;line-height:.8rem;background:#edf5ed;border-radius:.53333rem;border:.02667rem solid #f5f6fa}.swap-header-img .time-switch-box .time-switch .item[data-v-77b5f2ab]{flex:1;min-width:2rem;border-radius:.53333rem;font-size:.37333rem;font-family:PingFang SC-Medium,PingFang SC;font-weight:500;color:#498846;cursor:pointer}.swap-header-img .time-switch-box .time-switch .item.active[data-v-77b5f2ab]{color:#fff;background-color:#498846;border-color:#498846}",""]),a.exports=t},"401d":function(a,t,e){var o=e("2606");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);var i=e("499e").default;i("11bc09da",o,!0,{sourceMap:!1,shadowMode:!1})},"66f2":function(a,t,e){a.exports=e.p+"img/mobile-swap-hader.4fbc7ed6.png"},"85b8":function(a,t,e){a.exports=e.p+"img/mobile-pool-header.ec664286.png"},dcd7:function(a,t,e){"use strict";e("401d")}}]);